<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Static Menu QR Generator</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script type="module" crossorigin src="/static-menu-qr/assets/v2-hIJXGusj.js"></script>
    <link rel="modulepreload" crossorigin href="/static-menu-qr/assets/pako.esm-BpSz_pCI.js">
    <link rel="modulepreload" crossorigin href="/static-menu-qr/assets/qrcode-BB1qHw6L.js">
    <link rel="modulepreload" crossorigin href="/static-menu-qr/assets/renderer-Cp9WJrM7.js">
    <link rel="stylesheet" crossorigin href="/static-menu-qr/assets/pako-CvTjZG5X.css">
  </head>
  <body>
    <div id="app">
      <header class="app-header">
        <div class="logo">
          <i class="fas fa-qrcode"></i>
          <h1>Menu QR Code Generator (v2)</h1>
        </div>
        <p class="subtitle">
          Create a beautiful, static, and fast-loading menu for your restaurant
          or cafe.
        </p>
        <div class="version-switcher">
          <a href="./index.html">v1</a>
        </div>
      </header>

      <main class="main-content">
        <div class="editor-pane">
          <div class="pane-header">
            <h2><i class="fas fa-edit"></i> Menu Editor</h2>
            <div class="controls">
              <button
                id="add-section-btn"
                class="tooltip"
                data-tooltip="Add a new section like 'Appetizers' or 'Desserts'"
              >
                <i class="fas fa-plus"></i> Add Section
              </button>
              <button
                id="save-json-btn"
                class="tooltip"
                data-tooltip="Save your menu structure to a JSON file."
              >
                <i class="fas fa-save"></i> Save Menu
              </button>
              <button
                id="load-json-btn"
                class="tooltip"
                data-tooltip="Load a previously saved menu from a JSON file."
              >
                <i class="fas fa-folder-open"></i> Load Menu
              </button>
              <input
                type="file"
                id="json-file-input"
                accept="application/json"
                style="display: none"
              />
            </div>
          </div>
          <div class="menu-title-container">
            <label for="menu-title-input">Menu Title:</label>
            <input
              type="text"
              id="menu-title-input"
              placeholder="e.g., 'My Awesome Cafe Menu'"
            />
          </div>
          <div class="appearance-container">
            <h3><i class="fas fa-paint-brush"></i> Appearance</h3>
            <div class="control-grid">
              <div class="control">
                <label for="primary-color">Primary Color</label>
                <input type="color" id="primary-color" value="#333333" />
              </div>
              <div class="control">
                <label for="text-color">Text Color</label>
                <input type="color" id="text-color" value="#555555" />
              </div>
              <div class="control">
                <label for="font-select">Font Family</label>
                <select id="font-select">
                  <option value="'Inter', sans-serif">Inter (default)</option>
                  <option value="'Roboto', sans-serif">Roboto</option>
                  <option value="'Lato', sans-serif">Lato</option>
                  <option value="'Playfair Display', serif">
                    Playfair Display
                  </option>
                  <option value="'Lobster', cursive">Lobster</option>
                </select>
              </div>
            </div>
          </div>
          <div id="menu-sections">
            <!-- Dynamic content -->
          </div>
        </div>

        <aside class="preview-pane">
          <div class="pane-header">
            <h2><i class="fas fa-eye"></i> Preview & QR Code</h2>
          </div>
          <div class="output">
            <div class="qr-code-container">
              <div id="qr-code-placeholder">
                <i class="fas fa-qrcode"></i>
                <p>Your QR code will appear here.</p>
              </div>
              <img id="qr-code-img" src="" alt="QR Code" hidden />
              <div class="size-counter">
                <span id="size-display">0 characters</span>
                <p id="size-warning" class="size-warning" hidden>
                  <i class="fas fa-exclamation-triangle"></i> Menu size is
                  large, QR may be hard to scan.
                </p>
              </div>
            </div>

            <div id="dev-link-container" style="display: none;">
              <strong>Dev only:</strong>
              <a id="dev-menu-link" href="#" target="_blank"></a>
            </div>

            <div class="menu-preview-container">
              <h3>Customer View</h3>
              <div id="live-preview-content" class="menu-container">
                <!-- Live preview will be rendered here -->
              </div>
            </div>
          </div>
        </aside>
      </main>
    </div>
  </body>
</html>
