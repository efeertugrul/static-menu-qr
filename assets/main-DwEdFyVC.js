import{p as bt}from"./pako.esm-QfSfXnLH.js";function At(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var V={exports:{}},ot;function Bt(){return ot||(ot=1,function(_,y){var L=function(){var A=function(g,p){var u=236,d=17,n=g,l=I[p],e=null,t=0,c=null,f=[],v={},B=function(a,i){t=n*4+17,e=function(r){for(var o=new Array(r),s=0;s<r;s+=1){o[s]=new Array(r);for(var h=0;h<r;h+=1)o[s][h]=null}return o}(t),M(0,0),M(t-7,0),M(0,t-7),P(),R(),F(a,i),n>=7&&H(a),c==null&&(c=wt(n,l,f)),Q(c,i)},M=function(a,i){for(var r=-1;r<=7;r+=1)if(!(a+r<=-1||t<=a+r))for(var o=-1;o<=7;o+=1)i+o<=-1||t<=i+o||(0<=r&&r<=6&&(o==0||o==6)||0<=o&&o<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=o&&o<=4?e[a+r][i+o]=!0:e[a+r][i+o]=!1)},C=function(){for(var a=0,i=0,r=0;r<8;r+=1){B(!0,r);var o=T.getLostPoint(v);(r==0||a>o)&&(a=o,i=r)}return i},R=function(){for(var a=8;a<t-8;a+=1)e[a][6]==null&&(e[a][6]=a%2==0);for(var i=8;i<t-8;i+=1)e[6][i]==null&&(e[6][i]=i%2==0)},P=function(){for(var a=T.getPatternPosition(n),i=0;i<a.length;i+=1)for(var r=0;r<a.length;r+=1){var o=a[i],s=a[r];if(e[o][s]==null)for(var h=-2;h<=2;h+=1)for(var x=-2;x<=2;x+=1)h==-2||h==2||x==-2||x==2||h==0&&x==0?e[o+h][s+x]=!0:e[o+h][s+x]=!1}},H=function(a){for(var i=T.getBCHTypeNumber(n),r=0;r<18;r+=1){var o=!a&&(i>>r&1)==1;e[Math.floor(r/3)][r%3+t-8-3]=o}for(var r=0;r<18;r+=1){var o=!a&&(i>>r&1)==1;e[r%3+t-8-3][Math.floor(r/3)]=o}},F=function(a,i){for(var r=l<<3|i,o=T.getBCHTypeInfo(r),s=0;s<15;s+=1){var h=!a&&(o>>s&1)==1;s<6?e[s][8]=h:s<8?e[s+1][8]=h:e[t-15+s][8]=h}for(var s=0;s<15;s+=1){var h=!a&&(o>>s&1)==1;s<8?e[8][t-s-1]=h:s<9?e[8][15-s-1+1]=h:e[8][15-s-1]=h}e[t-8][8]=!a},Q=function(a,i){for(var r=-1,o=t-1,s=7,h=0,x=T.getMaskFunction(i),m=t-1;m>0;m-=2)for(m==6&&(m-=1);;){for(var D=0;D<2;D+=1)if(e[o][m-D]==null){var N=!1;h<a.length&&(N=(a[h]>>>s&1)==1);var w=x(o,m-D);w&&(N=!N),e[o][m-D]=N,s-=1,s==-1&&(h+=1,s=7)}if(o+=r,o<0||t<=o){o-=r,r=-r;break}}},j=function(a,i){for(var r=0,o=0,s=0,h=new Array(i.length),x=new Array(i.length),m=0;m<i.length;m+=1){var D=i[m].dataCount,N=i[m].totalCount-D;o=Math.max(o,D),s=Math.max(s,N),h[m]=new Array(D);for(var w=0;w<h[m].length;w+=1)h[m][w]=255&a.getBuffer()[w+r];r+=D;var S=T.getErrorCorrectPolynomial(N),U=$(h[m],S.getLength()-1),nt=U.mod(S);x[m]=new Array(S.getLength()-1);for(var w=0;w<x[m].length;w+=1){var at=w+nt.getLength()-x[m].length;x[m][w]=at>=0?nt.getAt(at):0}}for(var it=0,w=0;w<i.length;w+=1)it+=i[w].totalCount;for(var Z=new Array(it),G=0,w=0;w<o;w+=1)for(var m=0;m<i.length;m+=1)w<h[m].length&&(Z[G]=h[m][w],G+=1);for(var w=0;w<s;w+=1)for(var m=0;m<i.length;m+=1)w<x[m].length&&(Z[G]=x[m][w],G+=1);return Z},wt=function(a,i,r){for(var o=tt.getRSBlocks(a,i),s=et(),h=0;h<r.length;h+=1){var x=r[h];s.put(x.getMode(),4),s.put(x.getLength(),T.getLengthInBits(x.getMode(),a)),x.write(s)}for(var m=0,h=0;h<o.length;h+=1)m+=o[h].dataCount;if(s.getLengthInBits()>m*8)throw"code length overflow. ("+s.getLengthInBits()+">"+m*8+")";for(s.getLengthInBits()+4<=m*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=m*8||(s.put(u,8),s.getLengthInBits()>=m*8));)s.put(d,8);return j(s,o)};v.addData=function(a,i){i=i||"Byte";var r=null;switch(i){case"Numeric":r=lt(a);break;case"Alphanumeric":r=ct(a);break;case"Byte":r=dt(a);break;case"Kanji":r=ht(a);break;default:throw"mode:"+i}f.push(r),c=null},v.isDark=function(a,i){if(a<0||t<=a||i<0||t<=i)throw a+","+i;return e[a][i]},v.getModuleCount=function(){return t},v.make=function(){if(n<1){for(var a=1;a<40;a++){for(var i=tt.getRSBlocks(a,l),r=et(),o=0;o<f.length;o++){var s=f[o];r.put(s.getMode(),4),r.put(s.getLength(),T.getLengthInBits(s.getMode(),a)),s.write(r)}for(var h=0,o=0;o<i.length;o++)h+=i[o].dataCount;if(r.getLengthInBits()<=h*8)break}n=a}B(!1,C())},v.createTableTag=function(a,i){a=a||2,i=typeof i>"u"?a*4:i;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+i+"px;",r+='">',r+="<tbody>";for(var o=0;o<v.getModuleCount();o+=1){r+="<tr>";for(var s=0;s<v.getModuleCount();s+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+a+"px;",r+=" height: "+a+"px;",r+=" background-color: ",r+=v.isDark(o,s)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return r+="</tbody>",r+="</table>",r},v.createSvgTag=function(a,i,r,o){var s={};typeof arguments[0]=="object"&&(s=arguments[0],a=s.cellSize,i=s.margin,r=s.alt,o=s.title),a=a||2,i=typeof i>"u"?a*4:i,r=typeof r=="string"?{text:r}:r||{},r.text=r.text||null,r.id=r.text?r.id||"qrcode-description":null,o=typeof o=="string"?{text:o}:o||{},o.text=o.text||null,o.id=o.text?o.id||"qrcode-title":null;var h=v.getModuleCount()*a+i*2,x,m,D,N,w="",S;for(S="l"+a+",0 0,"+a+" -"+a+",0 0,-"+a+"z ",w+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',w+=s.scalable?"":' width="'+h+'px" height="'+h+'px"',w+=' viewBox="0 0 '+h+" "+h+'" ',w+=' preserveAspectRatio="xMinYMin meet"',w+=o.text||r.text?' role="img" aria-labelledby="'+J([o.id,r.id].join(" ").trim())+'"':"",w+=">",w+=o.text?'<title id="'+J(o.id)+'">'+J(o.text)+"</title>":"",w+=r.text?'<description id="'+J(r.id)+'">'+J(r.text)+"</description>":"",w+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',w+='<path d="',D=0;D<v.getModuleCount();D+=1)for(N=D*a+i,x=0;x<v.getModuleCount();x+=1)v.isDark(D,x)&&(m=x*a+i,w+="M"+m+","+N+S);return w+='" stroke="transparent" fill="black"/>',w+="</svg>",w},v.createDataURL=function(a,i){a=a||2,i=typeof i>"u"?a*4:i;var r=v.getModuleCount()*a+i*2,o=i,s=r-i;return xt(r,r,function(h,x){if(o<=h&&h<s&&o<=x&&x<s){var m=Math.floor((h-o)/a),D=Math.floor((x-o)/a);return v.isDark(D,m)?0:1}else return 1})},v.createImgTag=function(a,i,r){a=a||2,i=typeof i>"u"?a*4:i;var o=v.getModuleCount()*a+i*2,s="";return s+="<img",s+=' src="',s+=v.createDataURL(a,i),s+='"',s+=' width="',s+=o,s+='"',s+=' height="',s+=o,s+='"',r&&(s+=' alt="',s+=J(r),s+='"'),s+="/>",s};var J=function(a){for(var i="",r=0;r<a.length;r+=1){var o=a.charAt(r);switch(o){case"<":i+="&lt;";break;case">":i+="&gt;";break;case"&":i+="&amp;";break;case'"':i+="&quot;";break;default:i+=o;break}}return i},yt=function(a){var i=1;a=typeof a>"u"?i*2:a;var r=v.getModuleCount()*i+a*2,o=a,s=r-a,h,x,m,D,N,w={"██":"█","█ ":"▀"," █":"▄","  ":" "},S={"██":"▀","█ ":"▀"," █":" ","  ":" "},U="";for(h=0;h<r;h+=2){for(m=Math.floor((h-o)/i),D=Math.floor((h+1-o)/i),x=0;x<r;x+=1)N="█",o<=x&&x<s&&o<=h&&h<s&&v.isDark(m,Math.floor((x-o)/i))&&(N=" "),o<=x&&x<s&&o<=h+1&&h+1<s&&v.isDark(D,Math.floor((x-o)/i))?N+=" ":N+="█",U+=a<1&&h+1>=s?S[N]:w[N];U+=`
`}return r%2&&a>0?U.substring(0,U.length-r-1)+Array(r+1).join("▀"):U.substring(0,U.length-1)};return v.createASCII=function(a,i){if(a=a||1,a<2)return yt(i);a-=1,i=typeof i>"u"?a*2:i;var r=v.getModuleCount()*a+i*2,o=i,s=r-i,h,x,m,D,N=Array(a+1).join("██"),w=Array(a+1).join("  "),S="",U="";for(h=0;h<r;h+=1){for(m=Math.floor((h-o)/a),U="",x=0;x<r;x+=1)D=1,o<=x&&x<s&&o<=h&&h<s&&v.isDark(m,Math.floor((x-o)/a))&&(D=0),U+=D?N:w;for(m=0;m<a;m+=1)S+=U+`
`}return S.substring(0,S.length-1)},v.renderTo2dContext=function(a,i){i=i||2;for(var r=v.getModuleCount(),o=0;o<r;o++)for(var s=0;s<r;s++)a.fillStyle=v.isDark(o,s)?"black":"white",a.fillRect(o*i,s*i,i,i)},v};A.stringToBytesFuncs={default:function(g){for(var p=[],u=0;u<g.length;u+=1){var d=g.charCodeAt(u);p.push(d&255)}return p}},A.stringToBytes=A.stringToBytesFuncs.default,A.createStringToBytes=function(g,p){var u=function(){for(var n=pt(g),l=function(){var R=n.read();if(R==-1)throw"eof";return R},e=0,t={};;){var c=n.read();if(c==-1)break;var f=l(),v=l(),B=l(),M=String.fromCharCode(c<<8|f),C=v<<8|B;t[M]=C,e+=1}if(e!=p)throw e+" != "+p;return t}(),d=63;return function(n){for(var l=[],e=0;e<n.length;e+=1){var t=n.charCodeAt(e);if(t<128)l.push(t);else{var c=u[n.charAt(e)];typeof c=="number"?(c&255)==c?l.push(c):(l.push(c>>>8),l.push(c&255)):l.push(d)}}return l}};var E={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},I={L:1,M:0,Q:3,H:2},k={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},T=function(){var g=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],p=1335,u=7973,d=21522,n={},l=function(e){for(var t=0;e!=0;)t+=1,e>>>=1;return t};return n.getBCHTypeInfo=function(e){for(var t=e<<10;l(t)-l(p)>=0;)t^=p<<l(t)-l(p);return(e<<10|t)^d},n.getBCHTypeNumber=function(e){for(var t=e<<12;l(t)-l(u)>=0;)t^=u<<l(t)-l(u);return e<<12|t},n.getPatternPosition=function(e){return g[e-1]},n.getMaskFunction=function(e){switch(e){case k.PATTERN000:return function(t,c){return(t+c)%2==0};case k.PATTERN001:return function(t,c){return t%2==0};case k.PATTERN010:return function(t,c){return c%3==0};case k.PATTERN011:return function(t,c){return(t+c)%3==0};case k.PATTERN100:return function(t,c){return(Math.floor(t/2)+Math.floor(c/3))%2==0};case k.PATTERN101:return function(t,c){return t*c%2+t*c%3==0};case k.PATTERN110:return function(t,c){return(t*c%2+t*c%3)%2==0};case k.PATTERN111:return function(t,c){return(t*c%3+(t+c)%2)%2==0};default:throw"bad maskPattern:"+e}},n.getErrorCorrectPolynomial=function(e){for(var t=$([1],0),c=0;c<e;c+=1)t=t.multiply($([1,b.gexp(c)],0));return t},n.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case E.MODE_NUMBER:return 10;case E.MODE_ALPHA_NUM:return 9;case E.MODE_8BIT_BYTE:return 8;case E.MODE_KANJI:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case E.MODE_NUMBER:return 12;case E.MODE_ALPHA_NUM:return 11;case E.MODE_8BIT_BYTE:return 16;case E.MODE_KANJI:return 10;default:throw"mode:"+e}else if(t<41)switch(e){case E.MODE_NUMBER:return 14;case E.MODE_ALPHA_NUM:return 13;case E.MODE_8BIT_BYTE:return 16;case E.MODE_KANJI:return 12;default:throw"mode:"+e}else throw"type:"+t},n.getLostPoint=function(e){for(var t=e.getModuleCount(),c=0,f=0;f<t;f+=1)for(var v=0;v<t;v+=1){for(var B=0,M=e.isDark(f,v),C=-1;C<=1;C+=1)if(!(f+C<0||t<=f+C))for(var R=-1;R<=1;R+=1)v+R<0||t<=v+R||C==0&&R==0||M==e.isDark(f+C,v+R)&&(B+=1);B>5&&(c+=3+B-5)}for(var f=0;f<t-1;f+=1)for(var v=0;v<t-1;v+=1){var P=0;e.isDark(f,v)&&(P+=1),e.isDark(f+1,v)&&(P+=1),e.isDark(f,v+1)&&(P+=1),e.isDark(f+1,v+1)&&(P+=1),(P==0||P==4)&&(c+=3)}for(var f=0;f<t;f+=1)for(var v=0;v<t-6;v+=1)e.isDark(f,v)&&!e.isDark(f,v+1)&&e.isDark(f,v+2)&&e.isDark(f,v+3)&&e.isDark(f,v+4)&&!e.isDark(f,v+5)&&e.isDark(f,v+6)&&(c+=40);for(var v=0;v<t;v+=1)for(var f=0;f<t-6;f+=1)e.isDark(f,v)&&!e.isDark(f+1,v)&&e.isDark(f+2,v)&&e.isDark(f+3,v)&&e.isDark(f+4,v)&&!e.isDark(f+5,v)&&e.isDark(f+6,v)&&(c+=40);for(var H=0,v=0;v<t;v+=1)for(var f=0;f<t;f+=1)e.isDark(f,v)&&(H+=1);var F=Math.abs(100*H/t/t-50)/5;return c+=F*10,c},n}(),b=function(){for(var g=new Array(256),p=new Array(256),u=0;u<8;u+=1)g[u]=1<<u;for(var u=8;u<256;u+=1)g[u]=g[u-4]^g[u-5]^g[u-6]^g[u-8];for(var u=0;u<255;u+=1)p[g[u]]=u;var d={};return d.glog=function(n){if(n<1)throw"glog("+n+")";return p[n]},d.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return g[n]},d}();function $(g,p){if(typeof g.length>"u")throw g.length+"/"+p;var u=function(){for(var n=0;n<g.length&&g[n]==0;)n+=1;for(var l=new Array(g.length-n+p),e=0;e<g.length-n;e+=1)l[e]=g[e+n];return l}(),d={};return d.getAt=function(n){return u[n]},d.getLength=function(){return u.length},d.multiply=function(n){for(var l=new Array(d.getLength()+n.getLength()-1),e=0;e<d.getLength();e+=1)for(var t=0;t<n.getLength();t+=1)l[e+t]^=b.gexp(b.glog(d.getAt(e))+b.glog(n.getAt(t)));return $(l,0)},d.mod=function(n){if(d.getLength()-n.getLength()<0)return d;for(var l=b.glog(d.getAt(0))-b.glog(n.getAt(0)),e=new Array(d.getLength()),t=0;t<d.getLength();t+=1)e[t]=d.getAt(t);for(var t=0;t<n.getLength();t+=1)e[t]^=b.gexp(b.glog(n.getAt(t))+l);return $(e,0).mod(n)},d}var tt=function(){var g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p=function(n,l){var e={};return e.totalCount=n,e.dataCount=l,e},u={},d=function(n,l){switch(l){case I.L:return g[(n-1)*4+0];case I.M:return g[(n-1)*4+1];case I.Q:return g[(n-1)*4+2];case I.H:return g[(n-1)*4+3];default:return}};return u.getRSBlocks=function(n,l){var e=d(n,l);if(typeof e>"u")throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+l;for(var t=e.length/3,c=[],f=0;f<t;f+=1)for(var v=e[f*3+0],B=e[f*3+1],M=e[f*3+2],C=0;C<v;C+=1)c.push(p(B,M));return c},u}(),et=function(){var g=[],p=0,u={};return u.getBuffer=function(){return g},u.getAt=function(d){var n=Math.floor(d/8);return(g[n]>>>7-d%8&1)==1},u.put=function(d,n){for(var l=0;l<n;l+=1)u.putBit((d>>>n-l-1&1)==1)},u.getLengthInBits=function(){return p},u.putBit=function(d){var n=Math.floor(p/8);g.length<=n&&g.push(0),d&&(g[n]|=128>>>p%8),p+=1},u},lt=function(g){var p=E.MODE_NUMBER,u=g,d={};d.getMode=function(){return p},d.getLength=function(e){return u.length},d.write=function(e){for(var t=u,c=0;c+2<t.length;)e.put(n(t.substring(c,c+3)),10),c+=3;c<t.length&&(t.length-c==1?e.put(n(t.substring(c,c+1)),4):t.length-c==2&&e.put(n(t.substring(c,c+2)),7))};var n=function(e){for(var t=0,c=0;c<e.length;c+=1)t=t*10+l(e.charAt(c));return t},l=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;throw"illegal char :"+e};return d},ct=function(g){var p=E.MODE_ALPHA_NUM,u=g,d={};d.getMode=function(){return p},d.getLength=function(l){return u.length},d.write=function(l){for(var e=u,t=0;t+1<e.length;)l.put(n(e.charAt(t))*45+n(e.charAt(t+1)),11),t+=2;t<e.length&&l.put(n(e.charAt(t)),6)};var n=function(l){if("0"<=l&&l<="9")return l.charCodeAt(0)-48;if("A"<=l&&l<="Z")return l.charCodeAt(0)-65+10;switch(l){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+l}};return d},dt=function(g){var p=E.MODE_8BIT_BYTE,u=A.stringToBytes(g),d={};return d.getMode=function(){return p},d.getLength=function(n){return u.length},d.write=function(n){for(var l=0;l<u.length;l+=1)n.put(u[l],8)},d},ht=function(g){var p=E.MODE_KANJI,u=A.stringToBytesFuncs.SJIS;if(!u)throw"sjis not supported.";(function(l,e){var t=u(l);if(t.length!=2||(t[0]<<8|t[1])!=e)throw"sjis not supported."})("友",38726);var d=u(g),n={};return n.getMode=function(){return p},n.getLength=function(l){return~~(d.length/2)},n.write=function(l){for(var e=d,t=0;t+1<e.length;){var c=(255&e[t])<<8|255&e[t+1];if(33088<=c&&c<=40956)c-=33088;else if(57408<=c&&c<=60351)c-=49472;else throw"illegal char at "+(t+1)+"/"+c;c=(c>>>8&255)*192+(c&255),l.put(c,13),t+=2}if(t<e.length)throw"illegal char at "+(t+1)},n},rt=function(){var g=[],p={};return p.writeByte=function(u){g.push(u&255)},p.writeShort=function(u){p.writeByte(u),p.writeByte(u>>>8)},p.writeBytes=function(u,d,n){d=d||0,n=n||u.length;for(var l=0;l<n;l+=1)p.writeByte(u[l+d])},p.writeString=function(u){for(var d=0;d<u.length;d+=1)p.writeByte(u.charCodeAt(d))},p.toByteArray=function(){return g},p.toString=function(){var u="";u+="[";for(var d=0;d<g.length;d+=1)d>0&&(u+=","),u+=g[d];return u+="]",u},p},gt=function(){var g=0,p=0,u=0,d="",n={},l=function(t){d+=String.fromCharCode(e(t&63))},e=function(t){if(!(t<0)){if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(t==62)return 43;if(t==63)return 47}throw"n:"+t};return n.writeByte=function(t){for(g=g<<8|t&255,p+=8,u+=1;p>=6;)l(g>>>p-6),p-=6},n.flush=function(){if(p>0&&(l(g<<6-p),g=0,p=0),u%3!=0)for(var t=3-u%3,c=0;c<t;c+=1)d+="="},n.toString=function(){return d},n},pt=function(g){var p=g,u=0,d=0,n=0,l={};l.read=function(){for(;n<8;){if(u>=p.length){if(n==0)return-1;throw"unexpected end of file./"+n}var t=p.charAt(u);if(u+=1,t=="=")return n=0,-1;if(t.match(/^\s$/))continue;d=d<<6|e(t.charCodeAt(0)),n+=6}var c=d>>>n-8&255;return n-=8,c};var e=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(t==43)return 62;if(t==47)return 63;throw"c:"+t};return l},mt=function(g,p){var u=g,d=p,n=new Array(g*p),l={};l.setPixel=function(f,v,B){n[v*u+f]=B},l.write=function(f){f.writeString("GIF87a"),f.writeShort(u),f.writeShort(d),f.writeByte(128),f.writeByte(0),f.writeByte(0),f.writeByte(0),f.writeByte(0),f.writeByte(0),f.writeByte(255),f.writeByte(255),f.writeByte(255),f.writeString(","),f.writeShort(0),f.writeShort(0),f.writeShort(u),f.writeShort(d),f.writeByte(0);var v=2,B=t(v);f.writeByte(v);for(var M=0;B.length-M>255;)f.writeByte(255),f.writeBytes(B,M,255),M+=255;f.writeByte(B.length-M),f.writeBytes(B,M,B.length-M),f.writeByte(0),f.writeString(";")};var e=function(f){var v=f,B=0,M=0,C={};return C.write=function(R,P){if(R>>>P)throw"length over";for(;B+P>=8;)v.writeByte(255&(R<<B|M)),P-=8-B,R>>>=8-B,M=0,B=0;M=R<<B|M,B=B+P},C.flush=function(){B>0&&v.writeByte(M)},C},t=function(f){for(var v=1<<f,B=(1<<f)+1,M=f+1,C=c(),R=0;R<v;R+=1)C.add(String.fromCharCode(R));C.add(String.fromCharCode(v)),C.add(String.fromCharCode(B));var P=rt(),H=e(P);H.write(v,M);var F=0,Q=String.fromCharCode(n[F]);for(F+=1;F<n.length;){var j=String.fromCharCode(n[F]);F+=1,C.contains(Q+j)?Q=Q+j:(H.write(C.indexOf(Q),M),C.size()<4095&&(C.size()==1<<M&&(M+=1),C.add(Q+j)),Q=j)}return H.write(C.indexOf(Q),M),H.write(B,M),H.flush(),P.toByteArray()},c=function(){var f={},v=0,B={};return B.add=function(M){if(B.contains(M))throw"dup key:"+M;f[M]=v,v+=1},B.size=function(){return v},B.indexOf=function(M){return f[M]},B.contains=function(M){return typeof f[M]<"u"},B};return l},xt=function(g,p,u){for(var d=mt(g,p),n=0;n<p;n+=1)for(var l=0;l<g;l+=1)d.setPixel(l,n,u(l,n));var e=rt();d.write(e);for(var t=gt(),c=e.toByteArray(),f=0;f<c.length;f+=1)t.writeByte(c[f]);return t.flush(),"data:image/gif;base64,"+t};return A}();(function(){L.stringToBytesFuncs["UTF-8"]=function(A){function E(I){for(var k=[],T=0;T<I.length;T++){var b=I.charCodeAt(T);b<128?k.push(b):b<2048?k.push(192|b>>6,128|b&63):b<55296||b>=57344?k.push(224|b>>12,128|b>>6&63,128|b&63):(T++,b=65536+((b&1023)<<10|I.charCodeAt(T)&1023),k.push(240|b>>18,128|b>>12&63,128|b>>6&63,128|b&63))}return k}return E(A)}})(),function(A){_.exports=A()}(function(){return L})}(V)),V.exports}var Et=Bt();const Mt=At(Et);let O=[],st=1,ft=1;const z=2e3,_t=document.getElementById("add-section-btn"),K=document.getElementById("menu-sections"),Lt=document.getElementById("preview-iframe"),Ct=document.getElementById("size-display"),It=document.getElementById("size-warning"),Y=document.getElementById("qr-code-img"),q=document.getElementById("qr-code-placeholder"),Tt=document.getElementById("save-json-btn"),Dt=document.getElementById("load-json-btn"),ut=document.getElementById("json-file-input");function X(){K.innerHTML="",O.length===0&&(K.innerHTML='<p>No sections yet. Click "Add Section" to get started!</p>'),O.forEach(_=>{const y=document.createElement("div");y.className="menu-section",y.dataset.sectionId=_.id,y.innerHTML=`
      <div class="menu-section-header">
        <input type="text" class="section-name-input" placeholder="Section Name (e.g., Appetizers)" value="${_.name}">
        <button class="delete-section-btn" title="Delete Section"><i class="fas fa-trash"></i> Delete Section</button>
      </div>
      <div class="menu-items">
        <!-- Menu items will be rendered here -->
      </div>
      <button class="add-item-btn"><i class="fas fa-plus"></i> Add Menu Item</button>
    `;const L=y.querySelector(".menu-items");_.items.forEach(A=>{const E=vt(A);L.appendChild(E)}),K.appendChild(y)}),W()}function vt(_){const y=document.createElement("div");return y.className="menu-item",y.dataset.itemId=_.id,y.innerHTML=`
        <input type="text" class="item-name-input" placeholder="Item Name (e.g., Calamari)" value="${_.name}">
        <input type="text" class="item-price-input" placeholder="Price (e.g., $12.99)" value="${_.price}">
        <button class="delete-btn delete-item-btn" title="Delete Item"><i class="fas fa-times"></i></button>
        <input type="text" class="item-desc-input" placeholder="Description (e.g., served with marinara sauce)" value="${_.description}">
    `,y}function W(){const _=kt();Lt.src=_||"about:blank";const y=_.length;if(Ct.textContent=`${y} characters`,It.hidden=y<=z,O.length>0&&y<=z)Rt(_),Y.hidden=!1,q.style.display="none";else{Y.src="",Y.hidden=!0,q.style.display="flex";const L=q.querySelector("p");y>z?L.textContent="Menu is too large for a QR Code.":L.textContent="Your QR code will appear here."}}function kt(){if(O.length===0)return"";const _=JSON.stringify(O),y=bt.deflate(_),A=btoa(String.fromCharCode.apply(null,y)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return`${new URL("menu.html",window.location.href).href}?data=${A}`}function Rt(_){try{const A=Mt(0,"L");A.addData(_),A.make(),Y.src=A.createDataURL(10,5)}catch(y){console.error("Error generating QR code:",y);const L=q.querySelector("p");L.textContent="Could not generate QR code.",Y.hidden=!0,q.style.display="flex"}}_t.addEventListener("click",()=>{const _={id:`section-${st++}`,name:"",items:[]};O.push(_),X()});K.addEventListener("click",_=>{const L=_.target.closest("button");if(L){if(L.classList.contains("delete-section-btn")){const A=L.closest(".menu-section");A.classList.add("hiding"),A.addEventListener("animationend",()=>{const E=A.dataset.sectionId;O=O.filter(I=>I.id!==E),X()},{once:!0})}if(L.classList.contains("add-item-btn")){const A=L.closest(".menu-section").dataset.sectionId,E=O.find(b=>b.id===A),I={id:`item-${ft++}`,name:"",price:"",description:""};E.items.push(I);const k=L.previousElementSibling,T=vt(I);k.appendChild(T),W()}if(L.classList.contains("delete-item-btn")){const A=L.closest(".menu-item");A.classList.add("hiding"),A.addEventListener("animationend",()=>{const I=L.closest(".menu-section").dataset.sectionId,k=A.dataset.itemId,T=O.find(b=>b.id===I);T.items=T.items.filter(b=>b.id!==k),A.remove(),W()},{once:!0})}}});K.addEventListener("input",_=>{const y=_.target,A=y.closest(".menu-section").dataset.sectionId,E=O.find(I=>I.id===A);if(y.classList.contains("section-name-input")&&(E.name=y.value),y.classList.contains("item-name-input")||y.classList.contains("item-price-input")||y.classList.contains("item-desc-input")){const k=y.closest(".menu-item").dataset.itemId,T=E.items.find(b=>b.id===k);y.classList.contains("item-name-input")&&(T.name=y.value),y.classList.contains("item-price-input")&&(T.price=y.value),y.classList.contains("item-desc-input")&&(T.description=y.value)}W()});Tt.addEventListener("click",()=>{if(O.length===0){alert("Menu is empty. Nothing to save.");return}const _=JSON.stringify(O,null,2),y=new Blob([_],{type:"application/json"}),L=URL.createObjectURL(y),A=document.createElement("a");A.href=L,A.download="menu.json",A.click(),URL.revokeObjectURL(L)});Dt.addEventListener("click",()=>{ut.click()});ut.addEventListener("change",_=>{const y=_.target.files[0];if(!y)return;const L=new FileReader;L.onload=A=>{try{const E=JSON.parse(A.target.result);if(Array.isArray(E)&&E.every(I=>I.id&&I.name!==void 0&&Array.isArray(I.items))){O=E;const I=Math.max(0,...E.map(b=>parseInt(b.id.split("-")[1]||0))),k=E.flatMap(b=>b.items),T=Math.max(0,...k.map(b=>parseInt(b.id.split("-")[1]||0)));st=I+1,ft=T+1,X()}else alert("Invalid or corrupted JSON file.")}catch(E){alert("Error reading JSON file: "+E.message)}},L.readAsText(y),_.target.value=""});function Nt(){X()}Nt();
